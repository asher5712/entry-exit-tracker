{% extends 'base.html' %}
{% load static %}

{% block content %}
  <!-- Bootstrap Icons -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet">

  <style>
    .error-container {
      max-width: 480px;
      margin: 0 auto;
      padding: 2rem;
    }
    .error-icon {
      font-size: 5rem;
    }
    .error-code {
      font-size: 4rem;
      font-weight: 700;
    }
    .error-message {
      font-size: 1.25rem;
      margin-bottom: 1.5rem;
    }
  </style>

  <div class="d-flex align-items-center min-vh-100">
    <div class="error-container text-center w-100">
      <!-- Icon -->
      <div class="mb-4 text-warning">
        <i class="bi bi-exclamation-triangle-fill error-icon"></i>
      </div>

      <!-- Status Code -->
      <div class="error-code text-danger mb-3">
        {{ status_code }}
      </div>

      <!-- Heading -->
      <h1 class="h4 mb-2">Oops, something went wrong.</h1>

      <!-- Message based on code -->
      <p class="error-message text-muted">
        {% if status_code == 400 %}
          Bad request. We couldn’t understand what you asked for.
        {% elif status_code == 401 %}
          Unauthorized. Please <a href="{% url 'login' %}">log in</a> to continue.
        {% elif status_code == 403 %}
          Forbidden. You don’t have permission to access this.
        {% elif status_code == 404 %}
          The page you’re looking for can’t be found.
        {% elif status_code >= 400 and status_code < 500 %}
          Client error ({{ status_code }}). Please check your request and try again.
        {% elif status_code == 500 %}
          Internal server error. We’re working on it.
        {% elif status_code >= 500 and status_code < 600 %}
          Server error ({{ status_code }}). Please try again later.
        {% else %}
          Unexpected error. Please try again.
        {% endif %}
      </p>

      <!-- Action Buttons -->
      <div class="d-flex justify-content-center gap-2">
        <a href="{% url 'record_list' %}" class="btn btn-primary px-4">
          <i class="bi bi-house-door-fill me-1"></i> Home
        </a>
        <button onclick="history.back()" class="btn btn-outline-secondary px-4">
          <i class="bi bi-arrow-left-circle-fill me-1"></i> Back
        </button>
      </div>

      <!-- Illustration (optional) -->
      <div class="mt-5">
        <img src="{% static 'images/error-illustration.svg' %}"
             alt="Error illustration"
             class="img-fluid"
             style="max-height: 200px;">
      </div>
    </div>
  </div>
{% endblock %}
